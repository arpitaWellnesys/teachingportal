{"version":3,"file":"otp-verification.js.map","sources":["ng://otp-verification/lib/otp-verification.service.ts","ng://otp-verification/lib/otp-verification.component.ts","ng://otp-verification/lib/otp-verification.directive.ts","ng://otp-verification/lib/otp-verification.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OtpVerificationService {\n\n  constructor() { }\n\n  public isBackspace(key) {\n    return key === 'Backspace';\n  }\n\n}\n","import { Component, Output, ViewChild, EventEmitter, Input, ElementRef } from '@angular/core';\nimport { OtpVerificationService } from './otp-verification.service';\n\n@Component({\n  selector: 'ng-otp',\n  templateUrl: './otp-verification.component.html',\n  styleUrls: ['./otp-verification.component.scss']\n})\nexport class OtpVerificationComponent {\n\n  @Input() isAlphanumeric: boolean;\n\n  @Output() otpOut = new EventEmitter();\n\n  @ViewChild('otp') otpVal: ElementRef;\n\n  public specialKeys = [\n    'CapsLock', 'ControlLeft', 'ControlRight', 'ShiftLeft', 'ShiftRight',\n    'AltLeft' , 'AltRight'   , 'Escape'      , 'Backquote', 'ArrowUp'   ,\n    'Space'   , 'ArrowDown'  , 'Delete'      , 'Insert'   , 'End'       ,\n    'Home'    , 'PageDown'   , 'ArrowRight'  , 'WakeUp'\n  ];\n\n  public inputLimt = [];\n\n  constructor(\n    private otpVerificationService: OtpVerificationService\n  ) { }\n\n  public nextDigit(event, next, previous, current) {\n    if (this.specialKeys.includes(event.code)) {\n      return;\n    }\n    if (!this.otpVerificationService.isBackspace(event.key) && !this.isAlphanumeric && isNaN(event.key)) {\n      current.value = '';\n      return;\n    }\n    if (this.otpVerificationService.isBackspace(event.key)) {\n      if (current.value !== '' && previous) {\n        current.value = '';\n        previous.focus();\n      } else if (previous) {\n        previous.value = '';\n        previous.focus();\n      } else {\n        current.value = '';\n      }\n    } else if (!this.otpVerificationService.isBackspace(event.key)) {\n      if (event.key.length === 1) {\n        if (event.getModifierState('CapsLock')) {\n          current.value = event.key.toUpperCase();\n        } else {\n          current.value = event.key;\n        }\n      }\n      setTimeout(() => {\n        if (next) {\n          next.focus();\n        }\n      });\n    }\n    this.returnOtp();\n  }\n\n  public returnOtp() {\n    let otp = '';\n    Array.from(this.otpVal.nativeElement.children).forEach(child => {\n      if (!child['value']) { return; }\n      otp += child['value'];\n    });\n\n    if (otp.length === 4) {\n      this.otpOut.emit(otp);\n    }\n  }\n\n}\n","import { Directive, HostListener, Input } from '@angular/core';\n\n\n@Directive({\n  selector: '[angularOnlyNumber]'\n})\n\nexport class OtpVerificationDirective {\n\n  @Input() isAlphanumeric = true;\n\n  @HostListener('keydown', ['$event'])\n  onKeyDown(e: KeyboardEvent) {\n    if (!this.isAlphanumeric && (e.shiftKey || !(/Digit[0-9]/.test(e.code) || /Numpad[0-9]/.test(e.code)))) {\n      e.preventDefault();\n    }\n    if (this.isAlphanumeric && !/Key[A-Z]/.test(e.code)) {\n      e.preventDefault();\n    }\n  }\n}\n\n","import { NgModule } from '@angular/core';\nimport { OtpVerificationComponent } from './otp-verification.component';\nimport { OtpVerificationDirective } from './otp-verification.directive';\n\n@NgModule({\n  declarations: [OtpVerificationComponent, OtpVerificationDirective],\n  imports: [],\n  providers: [],\n  exports: [OtpVerificationComponent]\n})\nexport class OtpVerificationModule { }\n"],"names":[],"mappings":"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"}
