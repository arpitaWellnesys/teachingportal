{"version":3,"file":"otp-verification.umd.js.map","sources":["ng://otp-verification/lib/otp-verification.service.ts","ng://otp-verification/lib/otp-verification.component.ts","ng://otp-verification/lib/otp-verification.directive.ts","ng://otp-verification/lib/otp-verification.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OtpVerificationService {\n\n  constructor() { }\n\n  public isBackspace(key) {\n    return key === 'Backspace';\n  }\n\n}\n","import { Component, Output, ViewChild, EventEmitter, Input, ElementRef } from '@angular/core';\nimport { OtpVerificationService } from './otp-verification.service';\n\n@Component({\n  selector: 'ng-otp',\n  templateUrl: './otp-verification.component.html',\n  styleUrls: ['./otp-verification.component.scss']\n})\nexport class OtpVerificationComponent {\n\n  @Input() isAlphanumeric: boolean;\n\n  @Output() otpOut = new EventEmitter();\n\n  @ViewChild('otp') otpVal: ElementRef;\n\n  public specialKeys = [\n    'CapsLock', 'ControlLeft', 'ControlRight', 'ShiftLeft', 'ShiftRight',\n    'AltLeft' , 'AltRight'   , 'Escape'      , 'Backquote', 'ArrowUp'   ,\n    'Space'   , 'ArrowDown'  , 'Delete'      , 'Insert'   , 'End'       ,\n    'Home'    , 'PageDown'   , 'ArrowRight'  , 'WakeUp'\n  ];\n\n  public inputLimt = [];\n\n  constructor(\n    private otpVerificationService: OtpVerificationService\n  ) { }\n\n  public nextDigit(event, next, previous, current) {\n    if (this.specialKeys.includes(event.code)) {\n      return;\n    }\n    if (!this.otpVerificationService.isBackspace(event.key) && !this.isAlphanumeric && isNaN(event.key)) {\n      current.value = '';\n      return;\n    }\n    if (this.otpVerificationService.isBackspace(event.key)) {\n      if (current.value !== '' && previous) {\n        current.value = '';\n        previous.focus();\n      } else if (previous) {\n        previous.value = '';\n        previous.focus();\n      } else {\n        current.value = '';\n      }\n    } else if (!this.otpVerificationService.isBackspace(event.key)) {\n      if (event.key.length === 1) {\n        if (event.getModifierState('CapsLock')) {\n          current.value = event.key.toUpperCase();\n        } else {\n          current.value = event.key;\n        }\n      }\n      setTimeout(() => {\n        if (next) {\n          next.focus();\n        }\n      });\n    }\n    this.returnOtp();\n  }\n\n  public returnOtp() {\n    let otp = '';\n    Array.from(this.otpVal.nativeElement.children).forEach(child => {\n      if (!child['value']) { return; }\n      otp += child['value'];\n    });\n\n    if (otp.length === 4) {\n      this.otpOut.emit(otp);\n    }\n  }\n\n}\n","import { Directive, HostListener, Input } from '@angular/core';\n\n\n@Directive({\n  selector: '[angularOnlyNumber]'\n})\n\nexport class OtpVerificationDirective {\n\n  @Input() isAlphanumeric = true;\n\n  @HostListener('keydown', ['$event'])\n  onKeyDown(e: KeyboardEvent) {\n    if (!this.isAlphanumeric && (e.shiftKey || !(/Digit[0-9]/.test(e.code) || /Numpad[0-9]/.test(e.code)))) {\n      e.preventDefault();\n    }\n    if (this.isAlphanumeric && !/Key[A-Z]/.test(e.code)) {\n      e.preventDefault();\n    }\n  }\n}\n\n","import { NgModule } from '@angular/core';\nimport { OtpVerificationComponent } from './otp-verification.component';\nimport { OtpVerificationDirective } from './otp-verification.directive';\n\n@NgModule({\n  declarations: [OtpVerificationComponent, OtpVerificationDirective],\n  imports: [],\n  providers: [],\n  exports: [OtpVerificationComponent]\n})\nexport class OtpVerificationModule { }\n"],"names":["Injectable","EventEmitter","Component","Input","Output","ViewChild","Directive","HostListener","NgModule"],"mappings":"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"}
